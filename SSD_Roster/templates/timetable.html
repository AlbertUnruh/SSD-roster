{% extends "base.html" %}
{% block style %}
table, th, td {
  border-collapse: collapse;
}
table, td {
  border: 1px solid black;
  height: 4em;
}
th {
  border-left: 1px solid black;
  border-bottom: 2px solid red;
  width: 18%;
}
.shift_time {
  border-left: 1px solid black;
  border-right: 2px solid red;
  width: 10%;
}

.availability_0 {  /* Availability.UNAVAILABLE */
  background-color: #990003;
}
.availability_1 {  /* Availability.AVAILABLE */
  background-color: #106b21;
}
.availability_2 {  /* Availability.ONLY_IF_REQUIRED */
  background-color: #fc5a1f;
}
{% endblock %}
{% block body %}
<h1>
    Timetable {{ year }}/{{ week }}
</h1>
<p>
    by <a href="{{ url_for('see_user', user_id=user.user_id) }}">{{ user.displayed_name }}</a>
</p>
<table style="width: 100%;">
    <tbody>
        <tr>
            <th class="shift_time">Stunde</th><th>Montag</th><th>Dienstag</th><th>Mittwoch</th><th>Donnerstag</th><th>Freitag</th>
        </tr>
        <tr>
            <td class="shift_time">1./2.</td>
            <td class="availability_{{ matrix.0.0 }}"></td><td class="availability_{{ matrix.1.0 }}"></td><td class="availability_{{ matrix.2.0 }}"></td><td class="availability_{{ matrix.3.0 }}"></td><td class="availability_{{ matrix.4.0 }}"></td>
        </tr>
        <tr>
            <td class="shift_time">3./4.</td>
            <td class="availability_{{ matrix.0.1 }}"></td><td class="availability_{{ matrix.1.1 }}"></td><td class="availability_{{ matrix.2.1 }}"></td><td class="availability_{{ matrix.3.1 }}"></td><td class="availability_{{ matrix.4.1 }}"></td>
        </tr>
        <tr>
            <td class="shift_time">5./6.</td>
            <td class="availability_{{ matrix.0.2 }}"></td><td class="availability_{{ matrix.1.2 }}"></td><td class="availability_{{ matrix.2.2 }}"></td><td class="availability_{{ matrix.3.2 }}"></td><td class="availability_{{ matrix.4.2 }}"></td>
        </tr>
        <tr>
            <td class="shift_time">Pausendienst</td>
            <td class="availability_{{ matrix.0.3 }}"></td><td class="availability_{{ matrix.1.3 }}"></td><td class="availability_{{ matrix.2.3 }}"></td><td class="availability_{{ matrix.3.3 }}"></td><td class="availability_{{ matrix.4.3 }}"></td>
        </tr>
    </tbody>
</table>
<p>
    Legend:
    <span class="availability_0">Unavailable</span>
    <span class="availability_1">Available</span>
    <span class="availability_2">Only if required</span>
    <span style="float: right;">
        <a href="{{ before }}">Week before</a>
        <a href="{{ current }}">current Week</a>
        <a href="{{ after }}">Week after</a>
    </span>
</p>
{% endblock %}
